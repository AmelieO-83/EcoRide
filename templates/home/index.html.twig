{% extends 'base.html.twig' %}

{% block title %}Accueil | EcoRide{% endblock %}

{% block body %}
<div class="container mt-5">

    <h1 class="mb-4">{{ title }}</h1>
    <p class="lead mb-4">La plateforme de covoiturage écologique !</p>

    {# Barre de recherche #}
    <div class="row mb-4">
        <form class="col-12 d-flex flex-wrap gap-2 align-items-end" method="get" action="">
            <div class="form-group">
                <label for="depart" class="form-label">Départ</label>
                <input type="text" class="form-control" id="depart" name="depart" placeholder="Ville de départ">
            </div>
            <div class="form-group">
                <label for="arrivee" class="form-label">Arrivée</label>
                <input type="text" class="form-control" id="arrivee" name="arrivee" placeholder="Ville d'arrivée">
            </div>
            <div class="form-group">
                <label for="date" class="form-label">Date</label>
                <input type="date" class="form-control" id="date" name="date">
            </div>
            <button type="submit" class="btn" style="background-color:#4A7C59; color:white;">
                Rechercher
            </button>
        </form>
    </div>

    {# Liste des covoiturages #}
    <div class="row">
        {% for trajet in covoiturages %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ trajet.villeDepart }} → {{ trajet.villeArrivee }}</h5>
                        <p class="card-text">
                            <strong>Date :</strong> {{ trajet.date|date('d/m/Y') }}<br>
                            <strong>Départ :</strong> {{ trajet.heureDepart|date('H:i') }}<br>
                            <strong>Arrivée :</strong> {{ trajet.heureArrivee|date('H:i') }}<br>
                            <strong>Prix :</strong> {{ trajet.prix }} €<br>
                            <strong>Places :</strong> {{ trajet.placesDisponibles }}
                        </p>
                        <a href="#" class="btn btn-primary btn-sm disabled">Voir</a>
                    </div>
                </div>
            </div>
        {% else %}
            <p>Aucun covoiturage pour l’instant.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
