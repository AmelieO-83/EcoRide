{# templates/contact.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Contact | EcoRide{% endblock %}

{% block body %}
<div class="container py-5">
  <h1>Contactez-nous</h1>
  <p>Pour toute question, n’hésitez pas à nous écrire :</p>

  <ul class="list-unstyled">
    <li><strong>Email :</strong> <a href="mailto:contact@ecoride.com">contact@ecoride.com</a></li>
    <li><strong>Téléphone :</strong> 01 23 45 67 89</li>
    <li><strong>Adresse :</strong> 10 rue de l’Écologie, 75000 Paris</li>
    <li><strong>SIRET :</strong> 123 456 789 00010</li>
  </ul>

  <h2 class="mt-4">Envoyer un message</h2>
  
  {# affichage des flashes #}
  {% for label, msgs in app.flashes %}
    <div class="alert alert-{{ label }}">{{ msgs|first }}</div>
  {% endfor %}

  {# affichage des erreurs #}
  {% if errors|length %}
    <div class="alert alert-danger">
      <ul class="mb-0">
        {% for violation in errors %}
          <li>{{ violation.propertyPath }}: {{ violation.message }}</li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <form action="{{ path('contact_send') }}" method="post">
    <div class="mb-3">
      <label class="form-label" for="name">Nom</label>
      <input type="text" id="name" name="name" class="form-control" value="{{ data.name }}">
    </div>
    <div class="mb-3">
      <label class="form-label" for="email">Email</label>
      <input type="email" id="email" name="email" class="form-control" value="{{ data.email }}">
    </div>
    <div class="mb-3">
      <label class="form-label" for="subject">Sujet</label>
      <input type="text" id="subject" name="subject" class="form-control" value="{{ data.subject }}">
    </div>
    <div class="mb-3">
      <label class="form-label" for="message">Message</label>
      <textarea id="message" name="message" rows="6" class="form-control">{{ data.message }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">Envoyer</button>
  </form>
</div>
{% endblock %}
