{# templates/utilisateurs/admin_utilisateurs.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Gérer les utilisateurs | EcoRide{% endblock %}

{% block body %}
  <div class="container mt-5">
    <a href="{{ path('admin') }}" class="btn btn-primary mb-4">
      &larr; Retour aux statistiques
    </a>

    <h2>Liste des utilisateurs</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom / Prénom</th>
          <th>Email</th>
          <th>Rôles</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for u in users %}
          <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.prenom }} {{ u.nom }}</td>
            <td>{{ u.email }}</td>
            <td>{{ u.roles|join(', ') }}</td>
            <td>
              <a href="{{ path('admin_utilisateurs_edit', { id: u.id }) }}"
                 class="btn btn-sm btn-primary">
                Modifier
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
