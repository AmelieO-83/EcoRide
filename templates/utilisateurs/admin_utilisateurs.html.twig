{# templates/utilisateurs/admin_utilisateurs.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Gérer les utilisateurs | EcoRide{% endblock %}

{% block body %}
  <div class="container mt-5">
    <a href="{{ path('admin') }}" class="btn btn-secondary mb-4">
      &larr; Retour aux statistiques
    </a>

    <h2>Liste des utilisateurs</h2>

    <table class="table table-striped mt-3">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom / Prénom</th>
          <th>Email</th>
          <th>Rôles</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for u in users %}
          <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.nom }} {{ u.prenom }}</td>
            <td>{{ u.email }}</td>
            <td>{{ u.roles|join(', ') }}</td>
            <td>
              <a href="{{ path('admin_utilisateurs_edit', {id: u.id}) }}"
                 class="btn btn-sm btn-primary">
                Modifier
              </a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="5" class="text-center">Aucun utilisateur trouvé.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
